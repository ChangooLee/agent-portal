---
alwaysApply: false
---
# Learning Patterns

System for accumulating and reusing learnings from development work.

## Learning Directory

```
.cursor/learnings/
├── api-patterns.md     # Backend patterns
├── ui-patterns.md      # Frontend patterns
├── bug-fixes.md        # Bug fixes and solutions
└── preferences.md      # User preferences
```

## When to Record

After completing work:
- New pattern discovered
- Bug fixed
- Failed approach (to avoid repeating)
- User feedback ("좋아요" / "싫어요")

## Recording Format

### UI Patterns

```markdown
## YYYY-MM-DD: Title

**Request**: What was asked
**Applied**: What pattern was used
**Feedback**: ✅ Approved / ❌ Rejected
**Reuse**: How to apply in future
**Reference**: file path, commit hash
```

**Example**:
```markdown
## 2025-11-28: Tab Style Change

**Request**: Update monitoring tab buttons
**Applied**: border-b-2 → rounded-lg with bg-primary
**Feedback**: ✅ Approved (modern design)
**Reuse**: Use rounded-lg for all tab navigation
**Reference**: webui/src/routes/(app)/admin/monitoring/+page.svelte
```

### API Patterns

```markdown
## YYYY-MM-DD: Title

**Request**: What was asked
**Applied**: What pattern was used
**Feedback**: ✅ Approved / ❌ Rejected
**Reuse**: How to apply in future
**Reference**: file path, commit hash
```

### Bug Fixes

```markdown
## YYYY-MM-DD: Bug Title

**Symptoms**: Error message, behavior
**Root Cause**: Why it happened
**Fix**: How it was resolved
**Prevention**: How to avoid in future
**Reference**: file path, commit hash
```

**Example**:
```markdown
## 2025-11-28: ClickHouse project_id Not Found

**Symptoms**: "Unknown expression identifier project_id"
**Root Cause**: project_id is in ResourceAttributes map, not direct column
**Fix**: Changed `project_id` to `ResourceAttributes['project_id']`
**Prevention**: Always check ClickHouse schema before querying
**Reference**: backend/app/services/monitoring_adapter.py
```

### Preferences

```markdown
## YYYY-MM-DD: Preference Title

**Context**: Situation where preference was expressed
**Feedback**: ✅ Approved / ❌ Rejected
**Reason**: Why the preference
**Apply**: How to apply in future
```

**Example**:
```markdown
## 2025-11-28: Score Display Hidden

**Context**: News article importance_score shown in UI
**Feedback**: ❌ Rejected
**Reason**: Users don't need to see numeric scores
**Apply**: Use scores for sorting only, show badges in UI
```

## Recording Commands

### Manual Recording

```bash
# Add to specific file
echo "## $(date +%Y-%m-%d): Title
**Request**: ...
**Applied**: ...
" >> .cursor/learnings/ui-patterns.md
```

### Searching Learnings

```bash
# Search by keyword
grep -r "keyword" .cursor/learnings/

# Search by date
grep -r "2025-11-28" .cursor/learnings/

# Find all approvals
grep -r "✅" .cursor/learnings/

# Find all rejections
grep -r "❌" .cursor/learnings/
```

## Document Integration

### Before Creating New Documents

Check existing documents first:
```bash
grep -r "keyword" .cursor/learnings/ docs/ .cursor/rules/
```

### Integration Criteria

| Situation | Action |
|-----------|--------|
| Same component | Add to existing section |
| Same category | Add to existing file |
| New topic | Create new file |

## Weekly Review

Every Friday, consolidate learnings:

1. Review `.cursor/learnings/` for patterns
2. Update core docs (CLAUDE.md, AGENTS.md)
3. Add guardrails for repeated failures
4. Clean up temp files

---

**Last Updated**: 2025-11-28
