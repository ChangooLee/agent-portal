---
alwaysApply: false
---
# UI Development Rules

Rules for SvelteKit and Tailwind CSS development in Agent Portal.

## File Structure

```
webui/src/
├── routes/(app)/              # Page routes
│   ├── +layout.svelte         # App layout
│   ├── admin/                 # Admin pages
│   │   ├── monitoring/
│   │   ├── datacloud/
│   │   ├── mcp/
│   │   └── gateway/
│   └── c/[id]/                # Chat pages
├── lib/
│   ├── components/            # Reusable components
│   │   ├── icons/             # SVG icons
│   │   ├── admin/             # Admin components
│   │   ├── chat/              # Chat components
│   │   └── common/            # Shared components
│   └── monitoring/            # Monitoring API client
└── app.css                    # Global styles
```

## Quick Reference (ui-summary.json)

```bash
# Route mappings
cat webui/.skills/ui-summary.json | jq '.routes'

# Color palette
cat webui/.skills/ui-summary.json | jq '.colors'

# UI patterns
cat webui/.skills/ui-summary.json | jq '.patterns'
```

## On-Demand Detailed Queries

```bash
# Find route by keyword
jq '.routes[] | select(.routePath | contains("monitoring"))' \
  webui/.skills/ui-structure.json

# Find button pattern
jq '.buttonPatterns[] | select(.type == "tab")' \
  webui/.skills/ui-patterns.json
```

## API Calls (CRITICAL)

```typescript
// ❌ WRONG: Direct backend call (CORS issues)
const response = await fetch('http://localhost:8000/api/...');

// ✅ CORRECT: Use Vite proxy
const response = await fetch('/api/...');
```

### Vite Proxy Config

```typescript
// webui/vite.config.ts
'/api/datacloud': {
    target: 'http://localhost:8000',
    changeOrigin: true,
    rewrite: (path) => path.replace(/^\/api\/datacloud/, '/datacloud')
},
'/api/monitoring': {
    target: 'http://localhost:8000',
    changeOrigin: true,
    rewrite: (path) => path.replace(/^\/api\/monitoring/, '/monitoring')
}
```

## Color Palette

```css
/* Primary: Samsung Blue */
--primary: #0072CE;
--primary-light: #4A9FE6;

/* Secondary */
--secondary: #1428A0;
--secondary-light: #3D5ECC;

/* Accent */
--accent: #00B4D8;
--accent-light: #48CAE4;
```

## Tailwind Patterns

### Glassmorphism Card

```svelte
<div class="bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl 
            border border-white/20 dark:border-gray-700/20 shadow-sm p-6">
  <!-- Content -->
</div>
```

### Primary Button

```svelte
<button class="px-4 py-2 rounded-lg bg-primary text-white 
               hover:bg-primary/90 transition-all">
  Button
</button>
```

### Secondary Button

```svelte
<button class="px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 
               hover:bg-gray-200 dark:hover:bg-gray-600 transition-all">
  Button
</button>
```

### Modal

```svelte
{#if showModal}
<div class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 
            flex items-center justify-center p-4">
  <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl 
              max-w-2xl w-full max-h-[90vh] overflow-hidden">
    <!-- Header -->
    <div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 
                flex items-center justify-between">
      <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Title</h2>
      <button on:click={() => showModal = false}>
        <XMark class="w-5 h-5" />
      </button>
    </div>
    
    <!-- Content -->
    <div class="p-6">...</div>
    
    <!-- Footer -->
    <div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 
                flex justify-end gap-3">
      <button class="px-4 py-2 rounded-lg bg-gray-100">Cancel</button>
      <button class="px-4 py-2 rounded-lg bg-primary text-white">Save</button>
    </div>
  </div>
</div>
{/if}
```

### Input Field

```svelte
<input 
  type="text"
  class="w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 
         bg-white dark:bg-gray-900 text-gray-900 dark:text-white
         focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"
  placeholder="Enter value..."
/>
```

### Table

```svelte
<table class="w-full">
  <thead class="bg-gray-50 dark:bg-gray-900/50">
    <tr>
      <th class="px-4 py-3 text-left text-xs font-medium 
                 text-gray-500 dark:text-gray-400 uppercase">
        Column
      </th>
    </tr>
  </thead>
  <tbody>
    {#each items as item}
    <tr class="border-b border-gray-100 dark:border-gray-700/50 
               hover:bg-gray-50/50 dark:hover:bg-gray-700/30">
      <td class="px-4 py-3">{item.name}</td>
    </tr>
    {/each}
  </tbody>
</table>
```

## Responsive Design

```svelte
<!-- Mobile first, then breakpoints -->
<div class="w-full md:w-1/2 lg:w-1/3">
  <!-- Full width on mobile, half on tablet, third on desktop -->
</div>

<!-- Grid responsive -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
  <!-- Cards -->
</div>
```

## Dark Mode

Always support both modes:

```svelte
<div class="bg-white dark:bg-gray-800 
            text-gray-900 dark:text-white
            border-gray-200 dark:border-gray-700">
</div>
```

## Checklist

### Before Coding
- [ ] Check ui-summary.json for existing patterns
- [ ] Review similar pages for consistency

### During Coding
- [ ] Support dark/light mode
- [ ] Use Vite proxy for API calls
- [ ] Follow Glassmorphism patterns for admin

### After Coding
- [ ] Test in multiple viewports
- [ ] Check console for errors
- [ ] Test dark/light mode toggle

## Prohibited

- ❌ Direct `http://localhost:8000` API calls
- ❌ Missing dark mode support
- ❌ Inline styles (use Tailwind)
- ❌ Hardcoded colors (use CSS variables)

---

**Last Updated**: 2025-11-28
